# Staqueue Pattern
[日本語](index.md) | [English](index_EN.md) | [GitHub](https://github.com/stakiran/staqueue-pattern/settings/pages)

## スタッキューパターンについて

### スタッキューについて
**スタッキュー(Staqueue)** とは、Stack と Queue を指します。特にこの二つのデータ構造を用いた情報管理を指します。

スタッキューでは、スタックとキューを用いてお望みの情報管理構造をつくります。たとえば普段のタスクリストとして queue1、割り込み用に stack1 と二つつくり、優先度を `stack1 > queue1` と設定すると、これは「普段は queue1 で先入れ先出し的に処理するが、割り込みが来たら stack1 で後入れ先出し的に処理しきる」運用となります。単純ですが、普段のタスクと割り込みの両方に対応するための基礎となります。

スタッキューではいくつか原則があります

- 情報管理とは個人の、個人による、個人のための情報を管理すること
    - 情報は TODO、タスク、アイデア、後で読むものなどあらゆるものが対象ですが、テキストとして表現されているものとします
    - 管理とは保存、閲覧、検索、 **処理（取り出しと移動）** を含みます。 **編集操作は含みません**
- スタックとキューなので、以下の制約があります
    - スタックは後入れ先出しです。後に入れた情報が先に取り出されます
    - キューは先入れ先出しです。先に入れた情報が先に取り出されます
    - ランダムアクセス（任意番目の情報にアクセス）はしません
    - 一度取り出した情報は削除されます（再投入は可能）
- 優先度があります
    - 優先度レイヤーがあり、高レイヤーのスタッキューから処理していきます

スタッキューの活用例

- 個人の情報管理（手作業）
- 個人の情報管理（ソフトウェア化する際のデータ構造）
- AIエージェント向けのデータ構造

### スタッキューパターンについて
デザインパターンのように、頻出するパターンを整理したものです。

フォーマットは次のとおり:

- 全体像
    - 左ほど高優先度であり、レイヤーは `|` で区切ります
- タスクの処理について
- タスクの追加について

全体像について例を挙げます。たとえば以下は、

```
Stack1 | Queue1
```

実際には次のような意味です。

```
High Prio <---   ---> Low Prio

(Layer1)   (Layer2)
 Stack1  |  Queue1
```

## スタッキューパターン一覧

### 割り込み対応パターン
```
Stack1 | Queue1
```

- (タスクの処理)
    - まず Stack1 が空になるまで処理する
    - Stack1 が空になったら、Queue1 を処理する
- (タスクの追加)
    - 普段は Queue1 に追加する
    - 割り込みが来たら Stack1 に追加する

### カテゴライズパターン
```
Queue-Entrance | Queue1
                 Queue2
                 ...
```

- (タスクの処理)
    - QueueXX を適当に選び、処理する
- (タスクの追加)
    - まずは Queue-Entrance に追加する
    - Queue-Entrance から QueueXX に仕分ける
    - Queue-Entrance は空にすることを心がける

### xxxパターン
```
```

- (タスクの処理)
    - ...
    - ...
    - ...
- (タスクの追加)
    - ...
    - ...
    - ...
